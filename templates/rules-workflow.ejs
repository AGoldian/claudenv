---
<% if (pathGlobs && pathGlobs.length > 0) { -%>
paths:
<% for (const glob of pathGlobs) { %>  - "<%= glob %>"
<% } -%>
<% } -%>
---

# Workflow Best Practices

## Planning
- Use **plan mode** for complex tasks, unclear requirements, or multi-file changes
- Break large changes into small, reviewable steps
- Read existing code before proposing modifications — understand context first

## Context Management
- Use `/compact` when the conversation gets long and context fills up
- Use `/clear` when switching between unrelated tasks
- Keep CLAUDE.md concise (< 60 lines) — move details into @imported rule files

## Subagents
- Delegate research and exploration to subagents when scanning large codebases
- Use subagents for parallel investigation of independent questions
- Keep the main conversation focused on implementation decisions

## Memory
- Use `_state.md` in the project root to track decisions, current focus, and known issues
- Update `_state.md` when making significant architectural decisions
- Review `_state.md` at the start of each session to restore context

## Commits and Git
- NEVER commit unless the user explicitly asks
- NEVER push to remote without explicit permission
- NEVER amend published commits or force-push without explicit permission
- Write clear, descriptive commit messages explaining "why" not "what"

## File Discipline
- NEVER create documentation files (.md) unless explicitly requested by the user
- This includes: README.md, CONTRIBUTING.md, CHANGELOG.md, docs/*.md, and any other markdown files
- Only modify or create files that are directly needed for the current task
- Prefer editing existing files over creating new ones
- Do not add comments, docstrings, or type annotations to code you did not change

## Code Changes
- Always read a file before editing it
- Make minimal, focused changes — do not refactor surrounding code unless asked
- Do not add error handling, validation, or abstractions for hypothetical scenarios
- Do not add features or "improvements" beyond what was requested
- Run linters and tests after making changes<% if (commands.lint) { %> (`<%= commands.lint %>`)<% } %><% if (commands.test) { %> (`<%= commands.test %>`)<% } %>
